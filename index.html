<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sonar Rock - La Radio Independiente</title>

<!-- CSS -->
<link href="style.css" rel="stylesheet">
<link href="player.css" rel="stylesheet">

<!-- Iconos -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

<!-- PWA & Favicons -->
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#ff6600">
<link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
<link rel="shortcut icon" href="/icons/favicon.ico">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="google" content="notranslate">
</head>

<body>

<!-- ========================= -->
<!-- HEADER -->
<!-- ========================= -->
<header class="header">
  <div class="container">
    <div class="logo-section">
      <img src="attached_assets/logo_1749601460841.jpeg" alt="Sonar Rock Logo" class="logo">
      <div class="title-section">
        <h1>LA RADIO INDEPENDIENTE</h1>
      </div>
    </div>
  </div>
</header>

<!-- ========================= -->
<!-- IMAGEN PRINCIPAL -->
<!-- ========================= -->
<section class="main-section">
  <div class="container">
    <div class="main-image-container">
      <img src="attached_assets/sonarrock.png" alt="Sonar Rock" class="main-image">
    </div>
  </div>
</section>

<!-- ========================= -->
<!-- REPRODUCTOR STREAMING -->
<!-- ========================= -->
<section class="player-section">
  <div class="player-container">
    <img src="background1.png" alt="Fondo Radio" class="player-bg">
    <div class="overlay"></div>

    <div class="player-content">
      <div id="live-indicator" class="live-badge">
        <span class="dot"></span>
        <span class="text" id="status-text">OFFLINE</span>
      </div>
      <div id="timer" class="timer">00:00</div>

      <div class="controls">
        <button id="playPauseBtn"><i class="fas fa-play"></i></button>
        <button id="stop-btn"><i class="fas fa-stop"></i></button>
        <button id="mute-btn"><i class="fas fa-volume-up"></i></button>
        <input id="volume" type="range" min="0" max="1" step="0.01" value="1">
      </div>

      <audio id="radio-audio" playsinline></audio>
    </div>
  </div>
</section>

<!-- ========================= -->
<!-- REDES SOCIALES -->
<!-- ========================= -->
<section class="social-section">
  <div class="container">
    <h2 class="section-title">Redes Sociales</h2> 
    <div class="social-buttons"> 
      <a href="https://chat.whatsapp.com/L3qooPAvdXMBmos5oWTKgH" target="_blank" class="social-btn whatsapp"><i class="fab fa-whatsapp"></i></a> 
      <a href="https://www.facebook.com/share/19CxAjJvb8/?mibextid=wwXIfr" target="_blank" class="social-btn facebook"><i class="fab fa-facebook-f"></i></a> 
      <a href="https://www.instagram.com/sonar_rockgdl?igsh=bjlma2JpMXQwbDBv" target="_blank" class="social-btn instagram"><i class="fab fa-instagram"></i></a> 
      <a href="https://open.spotify.com/show/6mPcjQLeDdCwxzJe3PLlyU" target="_blank" class="social-btn spotify"><i class="fab fa-spotify"></i></a> 
      <a href="https://go.ivoox.com/sq/2661206" target="_blank" class="social-btn ivoox"><i class="fas fa-podcast"></i></a> 
    </div>
  </div>
</section>

<!-- ========================= -->
<!-- ========================= -->
<!-- DISCOS / SPOTIFY / IVOOX -->
<!-- ========================= -->
<section class="disco-ivoox-spotify">

  <!-- TÍTULO DISCO DE LA SEMANA -->
  <h3 class="player-title">Disco de la Semana</h3>
  <div class="custom-player disco-player" id="disco-player">
    <img id="cover" src="" alt="Portada Disco">
    <div class="player-info">
      <audio id="disco-audio" controls preload="auto"></audio>
    </div>
  </div>

  <!-- TÍTULO SPOTIFY -->
  <h3 class="player-title">Spotify</h3>
  <div class="custom-player spotify-player">
    <div class="player-info">
      <iframe 
        src="https://open.spotify.com/embed/show/6mPcjQLeDdCwxzJe3PLlyU" 
        frameborder="0" 
        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" 
        allowfullscreen>
      </iframe>
    </div>
  </div>

  <!-- TÍTULO IVOOX -->
  <h3 class="player-title">iVoox</h3>
  <div class="custom-player ivoox-player">
    <div class="player-info" id="ivoox-container">
      <!-- iframe se genera automáticamente con JS -->
    </div>
  </div>

</section>

<script>
document.addEventListener("DOMContentLoaded", () => {
  // -----------------------------
  // DISCO DE LA SEMANA
  // -----------------------------
  const fileName = "Aretha Franklin - Lady Soul.mp3"; // Cambiar cada semana si quieres manual
  const audio = document.getElementById("disco-audio");
  const cover = document.getElementById("cover");

  // Asignar archivo de audio
  audio.src = "https://raw.githubusercontent.com/sonarrock/web/main/El%20Disco%20De%20La%20Semana/" + encodeURIComponent(fileName);
  audio.load();

  // Asignar portada
  cover.src = "https://raw.githubusercontent.com/sonarrock/web/main/El%20Disco%20De%20La%20Semana/portada.jpg?v=" + Date.now();

 // -----------------------------
// IVOOX - Último episodio automático
// -----------------------------
const ivooxContainer = document.getElementById("ivoox-container");

// Creamos el iframe con la URL real de tu podcast
const ivooxIframe = document.createElement("iframe");
ivooxIframe.src = "https://www.ivoox.com/player_es_podcast_2661206_zp_1.html?c1=141c24";
ivooxIframe.width = "100%";
ivooxIframe.height = "152"; // igual que Spotify
ivooxIframe.style.borderRadius = "12px";
ivooxIframe.frameBorder = "0";
ivooxIframe.allowFullscreen = true;
ivooxIframe.scrolling = "no";
ivooxIframe.loading = "lazy";

ivooxContainer.appendChild(ivooxIframe);

  // -----------------------------
  // Halo animado Disco de la Semana
  // -----------------------------
  const container = document.getElementById("disco-player");
  let haloInterval;
  container.addEventListener("mouseenter", () => {
    clearInterval(haloInterval);
    let intensity = 0.3;
    let direction = 1;
    haloInterval = setInterval(() => {
      intensity += 0.01 * direction;
      if (intensity > 0.8) direction = -1;
      if (intensity < 0.3) direction = 1;
      container.style.boxShadow = `0 0 ${30 + intensity*50}px rgba(255,102,0,${intensity})`;
    }, 20);
  });

  container.addEventListener("mouseleave", () => {
    clearInterval(haloInterval);
    container.style.boxShadow = "0 0 15px rgba(255,102,0,0.5), 0 0 30px rgba(255,102,0,0.3) inset";
  });

});
</script>


<!-- ========================= -->
<!-- STAFF -->
<!-- ========================= -->
<section class="staff-section"> 
  <div class="container"> 
    <h2 class="section-title" style="margin-bottom:40px;">Staff</h2>
    <div class="staff-grid"> 
      <div class="staff-member"> 
        <img src="attached_assets/Wendy_1749601460841.jpeg" alt="Wendy" class="staff-image"> 
        <h3>Wendy</h3> 
      </div> 
      <div class="staff-member"> 
        <img src="attached_assets/Alvaro_1749601460841.jpeg" alt="Alvaro" class="staff-image"> 
        <h3>El Contralor</h3> 
      </div> 
      <div class="staff-member"> 
        <img src="attached_assets/Hans_1749601460841.jpeg" alt="Hans" class="staff-image"> 
        <h3>Hans</h3> 
      </div> 
      <div class="staff-member"> 
        <img src="attached_assets/El Chris_1749601460841.jpeg" alt="El Chris" class="staff-image">
        <h3>El Chris</h3> 
      </div> 
    </div> 
  </div> 
</section> 

<!-- ========================= -->
<!-- ¿QUIÉNES SOMOS? --> 
<!-- ========================= -->
<section class="about-section"> 
  <div class="container"> 
    <div class="about-content"> 
      <h2 class="section-title">¿Quiénes Somos?</h2> 
      <p class="about-text"> 
        Sonar Rock es una trinchera sonora, un espacio libre y apasionado que nace en Guadalajara, 
        Jalisco, México. Nuestra misión es simple pero poderosa: abrir un foro auténtico para las 
        bandas emergentes, apoyar la escena local y mantener viva la esencia del rock en todas sus vertientes.
        Creemos en la fuerza de la música como motor de cambio, como punto de encuentro y 
        como refugio de quienes buscan algo distinto a lo convencional. 
        En Sonar Rock somos más que una radio: somos comunidad, resistencia y pasión por el sonido que nos une. 
      </p> 
    </div> 
  </div> 
</section>

<!-- ========================= -->
<!-- ¿QUÉ ES SONAR ROCK? -->
<!-- ========================= -->
<section class="about-section"> 
  <div class="container"> 
    <div class="about-content"> 
      <h2 class="section-title">¿Qué es Sonar Rock?</h2> 
      <p class="about-text">
        Sonar Rock celebra la esencia eterna del rock n’ roll:
        Su rebeldía frente a lo establecido. Su poesía en cada 
        letra y acorde. Su energía que enciende escenarios y corazones.
        Su capacidad de conectar almas más allá de fronteras y generaciones. 
        Aquí el rock no se escucha de fondo, se vive. Somos un canal donde conviven lo clásico, 
        lo alternativo y lo emergente, siempre con la autenticidad como bandera.
      </p>
    </div>
  </div>
</section>

<!-- ========================= -->
<!-- JS -->
<!-- ========================= -->
<script src="radio-player.js" defer></script>
<script src="disco-semana.js" defer></script>
<script src="js/ivoox-latest.js" defer></script>

<script>
// =========================
// Disco de la Semana JS
// =========================
document.addEventListener("DOMContentLoaded", () => {
  const discoAudio = document.getElementById("disco-audio");
  const cover = document.getElementById("cover");
  const trackTitle = document.getElementById("track-title");

  const discoData = {
    title: "Ejemplo Disco",
    src: "attached_assets/ejemplo.mp3",
    cover: "attached_assets/portada.png"
  };

  cover.src = discoData.cover;
  trackTitle.textContent = discoData.title;
  discoAudio.querySelector("source").src = discoData.src;
  discoAudio.load();
});
</script>

</body>
</html>
